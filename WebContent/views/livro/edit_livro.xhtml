<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 
      
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Editar livro - eBookApp</title>
</h:head>
<h:body> 
	<ui:composition template="../layout/app.xhtml">
		<ui:define name = "content">
			<div class="row">
				<div class="col s12 m6 l6 offset-m3">
					<div class="row">
						<h:form>
							<h4 class="pink-text center thin">Editar livro</h4>
							<div class="input-field col s12">
								<i class="fa fa-book prefix"></i>
								<h:inputText value="#{livroBean.book.name}" id="bookName" required="true" requiredMessage="Book title must be required">
									<f:validateLength minimum="1" maximum="255"/>
								</h:inputText>
								<h:message for="bookName" styleClass="error"/>
			          			<label for="bookName">Título do livro *</label>
			        		</div>
			        		<div class="input-field col s12 m12 l6">
			        			<i class="fa fa-money prefix"></i>
								<h:inputText value="#{livroBean.book.price}" id="bookPrice" required="true" requiredMessage="Price must be required">
									<f:validateLength minimum="1" maximum="255"/>
									<f:convertNumber maxFractionDigits="2"/>
								</h:inputText>
								<h:message for="bookPrice" styleClass="error"/>
			          			<label for="bookPrice">Preço do livro *</label>
			        		</div>
			        		<div class="input-field col s12 m12 l6">
			        			<i class="fa fa-credit-card-alt prefix"></i>
								<h:inputText value="#{livroBean.book.discount}" id="bookDiscount">
									<!-- <f:convertNumber type="percentage"/> -->
								</h:inputText>
			          			<label for="bookDiscount">Desconto (%)</label>
			        		</div>
			        		<div class="input-field col s12 m12 l6">
			        			<i class="fa fa-archive prefix"></i>
								<h:inputText value="#{livroBean.book.stock}" id="bookStock" required="true" requiredMessage="Stock must be required">
									<f:validateLength minimum="1"/>
									<f:convertNumber maxFractionDigits="0"/>
								</h:inputText>
								<h:message for="bookStock" styleClass="error"/>
			          			<label for="bookStock">Estoque do livro *</label>
			        		</div>
			        		<div class="input-field col s12 m12 l6">
			        			<i class="fa fa-pencil-square prefix"></i>
								<h:inputText value="#{livroBean.book.edition}" id="bookEdition"/>
			          			<label for="bookEdition">Edição do livro</label>
			        		</div>
			        		<div class="input-field col s12 m12 l12">
			        			<i class="fa fa-pencil-square-o prefix"></i>     
								<h:inputTextarea value="#{livroBean.book.description}" class="materialize-textarea" id="bookDescription"/>
								<label for="bookDescription">Descrição do livro</label>  
			        		</div>
			        		<div class="input-field col s12 m12 l12">
			        			<i class="fa fa-pencil-square-o prefix"></i>
			        			<h:selectOneMenu value="#{livroBean.book.author}" required="true"> 
			        				<f:selectItem noSelectionOption="true" itemLabel="Select one option"/>
			        				<f:selectItems var="author" value="#{livroBean.authors}" itemValue="#{author.author_id}" itemLabel="#{author.name}" /> 
			        			</h:selectOneMenu>
			        		</div>
			        		<div class="row">
				        		<div class="col s12 m12 l12">
				        			<h:commandButton class="waves-effect waves-light btn right pink" value="Editar" type="subtmit" action="#{livroBean.updateBook}" />
				        		</div>
				        	</div>
				        </h:form>
	        		</div>
				</div>
			</div>
		</ui:define>		
	</ui:composition>
</h:body> 
</html>
